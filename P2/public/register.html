<!DOCTYPE html>
<html lang="en">

<head>
	<title>Registration</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

	<form method="POST" action="/register">
		<div class="form-group" style="align-items: center;">
			<label for="exampleInputEmail1">Email address</label>
			<input type="email" name="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
				placeholder="Enter email">
		</div>
		<div class="form-group" style="align-items: center;">
			<label for="exampleInputEmail1">Name</label>
			<input type="name" name="name" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
				placeholder="Enter name">
		</div>
		<div class="form-group">
			<label for="exampleInputPassword1">Password</label>
			<input type="password" name="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
		</div>
		<div class="form-group">
			<label for="exampleInputPassword1">Confirm Password</label>
			<input type="password" name="confirm_password" class="form-control" id="exampleInputPassword1"
				placeholder="Confirm Password">
		</div>
		<div class="form-check">
			<input type="checkbox" class="form-check-input" id="enable2FA" name="enable2FA">
			<label class="form-check-label" for="enable2FA">Enable Two-Factor Authentication</label>
		</div>
		<div class="form-group" id="2faField" style="display: none;">
			
			<label for="2faCode">Enter a phone number or a email for authentication</label>
			<input type="2fa" name="2faCode" class="form-control" id="2faCode" placeholder="Enter 2FA Code">
		</div>
		{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
		<ul class="flashes">
			{% for category, message in messages %}
			<div class="alert alert-danger"{% if category=='error' %} class="error" {% endif %}>{{ message }}</div>
				{% endfor %}
		</ul>
		{% endif %}
		{% endwith %}
		<button type="submit" class="btn btn-primary">Register</button>
	</form>

	<script>
		document.getElementById('enable2FA').addEventListener('change', function () {
			var field = document.getElementById('2faField');
			field.style.display = this.checked ? 'block' : 'none';
		});
	</script>

</body>

</html>
