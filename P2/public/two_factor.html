<!DOCTYPE html>
<html lang="en">

<head>
	<title>Two Factor Authentication</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>	
	<form method="POST" action="/2FA">
		<div class="form-group">
			<label for="2FA">A code was sent to your 2FA email, enter below to login</label>
			<div class="input-group">
				<input type="password" name="2FA" class="form-control" id="2FA" placeholder="Code">
				<div class="input-group-append">
					<div class="input-group-text">
						<input type="checkbox" id="showPassword"> Show password
					</div>
				</div>
			</div>
		</div>
		{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
		<ul class="flashes">
			{% for category, message in messages %}
			<li{% if category=='error' %} class="error" {% endif %}>{{ message }}</li>
				{% endfor %}
		</ul>
		{% endif %}
		{% endwith %}
		<button type="submit" class="btn btn-primary">Submit</button>	
	</form>

	<script>
	// Adicione isso ao seu script JavaScript
	const codeInput = document.getElementById('2FA');
	const showPasswordCheckbox = document.getElementById('showPassword');

	showPasswordCheckbox.addEventListener('change', function() {
		codeInput.type = showPasswordCheckbox.checked ? 'text' : 'password';
	});
	</script>
</body>

</html>
